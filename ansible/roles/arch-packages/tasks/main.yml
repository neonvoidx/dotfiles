---
# Role: arch-packages
# Description: Install official Arch repository packages using pacman
# This role handles installation and removal of packages from official repos

- name: Update pacman cache
  community.general.pacman:
    update_cache: yes
  tags: ['packages', 'update']

- name: Install official Arch packages
  community.general.pacman:
    name: "{{ arch_packages }}"
    state: present
  when: arch_packages is defined and arch_packages | length > 0
  tags: ['packages']

- name: Remove unwanted packages
  community.general.pacman:
    name: "{{ packages_to_remove }}"
    state: absent
  when: packages_to_remove is defined and packages_to_remove | length > 0
  tags: ['packages', 'cleanup']

# Add additional tasks here:
# - Configure package-specific settings
# - Create necessary directories
# - Set up alternatives
